## roles/desktop/tasks/CentOS.yml
## Role main file
# vim:ft=ansible:
---
- name: "Install rpmforge"
  yum: name=rpmforge-release

- name: "Install i3"
  yum: name='{{ item }}'
  with_dict: '{{ i3 }}'
  when: i3pkg == true
  tags: i3

- name: "Install KDE"
  yum: 
    name: "@^KDE Plasma Workspaces"
  when: kdepkg == true
  tags: kde

#- name: "Install media players and codecs"
#  yum: name='{{ item }}'
#  with_dict: '{{ media }}'
#  when: mediapkg == true
#  tags: media

- name: "Install icons, themes, powerline, fonts ..."
  yum: name='{{ item }}'
  with_dict: '{{ appearance }}'
  when: appearancepkg == true
  tags: appearance

- name: "Install useful tools"
  yum: name='{{ item }}'
  with_dict: '{{ tools }}'
  when: toolspkg == true
  tags: tools

- name: "Install browsers"
  yum: name='{{ item }}'
  with_dict: '{{ browsers }}'
  when: browserspkg == true
  tags: browsers

- name: "Install desktop applications"
  yum: name='{{ item }}'
  with_dict: '{{ desktop }}'
  when: i3pkg == true or desktoppkg == true
  tags: i3,kde

- name: "Install network applications"
  yum: name='{{ item }}'
  with_dict: '{{ network }}'
  when: i3pkg == true or networkpkg == true
  tags: network,i3

- name: "Install LaTeX"
  yum: name='{{ item }}'
  with_dict: '{{ latex }}'
  when: latexpkg == true
  tags: latex

- name: "Install office applications"
  yum: name='{{ item }}'
  with_items:
    - '@libreoffice'
    - 'libreoffice-langpack-sv'
  when: officepkg == true
  tags: office

- name: Creation applications
  yum: name='{{ item }}'
  with_dict: '{{ create }}'
  when: "'betelgeuse' in ansible_hostname"
  tags: betelgeuse

- name: "Enable Services"
  service:
    name: '{{ item }}'
    enabled: yes
  with_items:
#    - sddm
    - accounts-daemon
    - NetworkManager
  ignore_errors: yes
  tags: NetworkManager
...
